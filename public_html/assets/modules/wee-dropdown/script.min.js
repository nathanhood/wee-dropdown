Wee.fn.make("dropdown",{init:function(a){var b=Wee.$extend({listLength:5},a);this.conf=b,Wee.events.on({"ref:weeDropdown":{init:function(b,c){var d=$$(c),e=d.children("option"),f=Wee.$parseHTML('<div class="wee-dropdown selector" data-ref="weeDropdownUI"></div>',!0),g=Wee.$parseHTML('<div class="wee-dropdown__value selection" data-ref="weeDropdownAnswer"><i class="icon-toggle"></i></div>',!0),h=Wee.$parseHTML('<span class="selection-label data-ref="weeDropdownAnswerText"></span>',!0),i=Wee.$parseHTML('<ul class="wee-dropdown__menu options"></ul>',!0),j=this;if(alert("hello"),Wee.$each(e,function(b){var c=$$(b),e=c.text(),f=c.val(),g=Wee.$parseHTML('<li class="options-item" data-val="'+f+'"><span class="options-item__text">'+e+"</span></li>",!0);a.dataRef&&g.data("ref",a.dataRef),a.dataSet&&g.data(a.dataSet,c.data(a.dataSet)),"selected"===c.attr("selected")&&(g.hide(),h.text(e)),g.on("click",function(a,b){var c=$$(b),e=c.data("val"),f=c.parents("ref:weeDropdownUI");c.hide().siblings().show(),h.text(c.text()),h.data("val",c.data("val")),j.close(f),d.val(e),j.conf.onChange&&j.conf.onChange(e,c,j.conf.onChangeScope,h)}),i.append(g)}),""===h.html()){var k=i.children().first();k.hide(),h.text(k.text())}g.on("click",function(a,b){if(!$$(b).data("disabled")){var c="weeDropdownUI"===$$(b).data("ref")?$$(b):$$(b).parents("ref:weeDropdownUI");c.hasClass("is-active")?j.close(c):(Wee.$get("document",$$(Wee._doc),!0).off(),j.open(c),i.on({click:function(a){a.stopPropagation()}}),setTimeout(function(){Wee.$get("document",$$(Wee._doc),!0).on({click:function(){Wee.$exec("dropdown:close")}},{scope:this})},50))}}),g.prepend(h),f.append(g).append(i),d.hide().before(f),Wee.$setRef(),a.callback&&a.callback(f)}}},{scope:this})},open:function(a){var b=$$("ref:weeDropdownUI").filter(function(a,b){return $$(b).hasClass("is-active")});b.removeClass("is-active"),b.css("z-index","0"),a.css("z-index","100"),a.addClass("is-active")},close:function(a){a||(a=$$("ref:weeDropdownUI").filter(function(a,b){return $$(b).hasClass("is-active")})),a.removeClass("is-active"),a.css("z-index","0"),Wee.$get("document",$$(Wee._doc),!0).off()}});
//# sourceMappingURL=../../wee/maps/wee-dropdown-script.js.map